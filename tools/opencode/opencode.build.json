{
  "$schema": "https://opencode.ai/config.json",

  "systemPrompt": "BUILD MODE: You are an Orchestrator implementing an Elixir/BEAM project. Follow project_requirements.md for model selection. Use Serena for semantic search + editing. Implement TDD, Domain Resource Action pattern, and OTP best practices. Use /create-feature command for new features, /full-test before committing. Always write tests before implementation (TDD).",

  "tools": {
    "write": true,
    "read": true,
    "bash": true,
    "grep": true,
    "glob": true,
    "webfetch": true,
    "websearch": true
  },

  "mcp": {
    "serena": {
      "type": "local",
      "command": ["uvx", "--from", "git+https://github.com/oraios/serena", "serena", "start-mcp-server"],
      "enabled": true,
      "environment": {
        "SERENA_PROJECT_PATH": "{project_root}/.serena",
        "SERENA_READ_ONLY": "false"
      }
    }
  },

  "localModels": {
    "ollama": {
      "enabled": true,
      "baseURL": "http://localhost:11434",
      "models": {
        "default": "deepseek-coder-v2:16b-instruct"
      }
    },
    "lmstudio": {
      "enabled": true,
      "baseURL": "http://localhost:1234/v1",
      "models": {
        "default": "phi-4-mini-instruct"
      }
    }
  },

  "agent": {
    "mode": "build",

    "build": {
      "tools": {
        "write": true,
        "mgrep": false,
        "serena_*": true,
        "grep": true,
        "bash": true
      },
      "model": {
        "provider": "local",
        "default": "ollama",
        "model": "deepseek-coder-v2:16b-instruct"
      }
    }
  },

  "permissions": {
    "write": "ask",
    "bash": "ask",
    "mcp": "ask"
  }
}
