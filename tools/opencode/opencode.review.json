{
  "$schema": "https://opencode.ai/config.json",

  "systemPrompt": "REVIEW MODE: You are a Reviewer/QA specialist. Use mgrep for cross-reference analysis and Serena for edit context. Verify OTP patterns, Domain Resource Action adherence, and code quality. Run Credo, Dialyzer, and test coverage. Reference relevant roles (reviewer.md, qa.md, elixir-reviewer.md) from .ai_rules/roles/. Provide specific, actionable feedback with clear explanations.",

  "tools": {
    "write": false,
    "read": true,
    "bash": true,
    "grep": true,
    "glob": true,
    "webfetch": true,
    "websearch": true
  },

  "mcp": {
    "serena": {
      "type": "local",
      "command": ["uvx", "--from", "git+https://github.com/oraios/serena", "serena", "start-mcp-server"],
      "enabled": true,
      "environment": {
        "SERENA_PROJECT_PATH": "{project_root}/.serena",
        "SERENA_READ_ONLY": "true"
      }
    }
  },

  "agent": {
    "mode": "review",

    "review": {
      "tools": {
        "write": false,
        "mgrep": true,
        "serena_*": true,
        "grep": true,
        "bash": true
      },
      "model": {
        "provider": "api",
        "default": "anthropic",
        "model": "claude-3-5-sonnet-20241022"
      }
    }
  },

  "permissions": {
    "write": "disabled",
    "bash": "ask",
    "mcp": "ask"
  }
}
